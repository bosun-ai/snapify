{% style %}
        :root {
          --bg: #fafafa;
          --text: #2a2f36;
          --muted: #6b7480;
          --accent: #2255ff;
          --card: #ffffff;
          --shadow: 0 6px 24px rgba(0,0,0,0.05);
          --radius: 18px;
          --divider: #d0d4da;
        }
    
        body {
          margin: 0;
          font-family: "Inter", "Helvetica Neue", Arial, sans-serif;
          background: var(--bg);
          color: var(--text);
          line-height: 1.6;
        }
    
        .wrap {
          display: grid;
          place-items: center;
          min-height: 100dvh;
          padding: 2rem;
        }
    
        .testimonial {
          display: grid;
          grid-template-columns: 88px 1fr;
          gap: 24px;
          align-items: start;
          max-width: 950px;
          background: var(--card);
          border-radius: var(--radius);
          box-shadow: var(--shadow);
          padding: 40px;
        }
    
        .avatar {
          width: 88px;
          height: 88px;
          border-radius: 50%;
          object-fit: cover;
        }
    
        /* === Tag style === */
        .tag {
          display: inline-block;
          background: rgba(34,85,255,0.08);
          color: var(--accent);
          font-size: 12px;
          font-weight: 600;
          padding: 4px 12px;
          border-radius: 999px;
          letter-spacing: 0.3px;
          margin-bottom: 18px;
        }
    
        blockquote {
          margin: 0;
          font-size: 15px;
          color: var(--text);
          font-weight: 400;
          position: relative;
          padding: 0 40px;
        }
    
        blockquote::before,
        blockquote::after {
          position: absolute;
          color: var(--accent);
          font-family: Georgia, serif;
          font-size: 40px;
          line-height: 1;
        }
    
        blockquote::before {
          content: "“";
          top: -10px;
          left: 0;
        }
    
        blockquote::after {
          content: "”";
          bottom: -35px;
          right: 0;
        }
    
        .meta {
          margin-top: 18px;
          display: flex;
          align-items: center;
          gap: 16px;
          flex-wrap: wrap;
        }
    
        .person {
          display: grid;
          gap: 2px;
        }
    
        .name {
          font-weight: 700;
          font-size: 14px;
          letter-spacing: 0.2px;
          color: #2a2f36;
        }
    
        .title {
          font-size: 13px;
          color: var(--muted);
          margin: 0;
        }
    
        /* Divider between person and logo */
        .divider {
          width: 3px;
          height: 64px;
          background: var(--divider);
          align-self: center;
          margin: 0 4px;
        }
    
        /* Left-aligned logo + company name */
        .logo-wrapper {
          display: flex;
          flex-direction: column;
          align-items: flex-start;
          gap: 4px;
        }
    
        .logo {
          height: 28px;
          width: auto;
          display: block;
        }
    
        .company-name {
          font-size: 12px;
          color: var(--muted);
          text-align: left;
          line-height: 1.3;
        }
    
        @media (max-width: 600px) {
          .testimonial {
            grid-template-columns: 1fr;
            padding: 28px;
          }
          blockquote {
            font-size: 11px;
            padding: 10px 0px;
          }
          blockquote::before,
          blockquote::after {
            font-size: 32px;
          }
          .divider {
            display: none;
          }
        /* Remove left margin on mobile */
        .meta {
          margin-left: 0 !important;
        }
        }
{% endstyle %}
<div class="section-{{ section.id }}-padding wrap">

        <figure class="testimonial">
          <img src="{{ section.settings.avatar | image_url: width: 100 }}" alt="{{ section.settings.avatar.alt | escape }}" class="avatar" />
    
          <div>
            <!-- NEW TAG ABOVE THE QUOTE -->
            <div class="tag">{{ section.settings.tag }}</div>
    
            <div>
                <blockquote>
                {{ section.settings.testimonial }}
                </blockquote>
        
                <figcaption class="meta" style="padding-left: calc(40px + 0.2rem);">
                <div class="person">
                    <span class="name">{{ section.settings.name }}</span>
                    <span class="title">{{ section.settings.title }}</span>
                </div>
        
                <div class="divider" aria-hidden="true" style="display: block!important;"></div>
        
                <div class="logo-wrapper">
                    <img src="{{ section.settings.logo | image_url: width: 100 }}" alt="{{ section.settings.logo.alt | escape }}" class="logo" />
                    <span class="company-name">{{ section.settings.company_name }}</span>
                </div>
                </figcaption>
            </div>
          </div>
        </figure>
    </div>
        {% schema %}
    {
        "name": "t:sections.testimonial.name",
        "class": "section",
        "settings": [ 
            {
                "type": "image_picker",
                "id": "avatar",
                "label": "Avatar"
            },
            {
                "type": "text",
                "id": "tag",
                "label": "Tag"
            },
            {
                "type": "richtext",
                "id": "testimonial",
                "label": "Testimonial"
            },
            {
                "type": "text",
                "id": "name",
                "label": "Name"
            },
            {
                "type": "text",
                "id": "title",
                "label": "Title"
            },
            {
                "type": "image_picker",
                "id": "logo",
                "label": "Logo"
            },
            {
                "type": "richtext",
                "id": "company_name",
                "label": "Company Name"
            },
            {
                "type": "range",
                "id": "padding_top",
                "min": 0,
                "max": 100,
                "step": 4,
                "unit": "px",
                "label": "t:sections.all.padding.padding_top",
                "default": 36
            }, {
                "type": "range",
                "id": "padding_bottom",
                "min": 0,
                "max": 100,
                "step": 4,
                "unit": "px",
                "label": "t:sections.all.padding.padding_bottom",
                "default": 36
            }
        ],
        "presets": [
        {
            "name": "t:sections.testimonial.presets.name"
        }
        ]
    }
    {% endschema %}
      